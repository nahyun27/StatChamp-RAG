<!DOCTYPE html>
<html>
<head>
    <title>LangChain Playground</title>
    <link rel="stylesheet" type="text/css" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <h1>ğŸ¤— Best 11 Generator ğŸ¤—</h1>
        <form id="question-form" class="form">
            <label for="question">ì§ˆë¬¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!</label>
            <input type="text" id="question" name="question">
            <input type="button" value="Submit" onclick="submitForm()">
        </form>
        <div class="output">
            <h2>Standalone Answer:</h2>
            <p>ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì§ˆë¬¸ì— ëŒ€í•´ ë…ë¦½ì ìœ¼ë¡œ ìƒì„±ëœ ë‹µë³€ì…ë‹ˆë‹¤. </p>
            <p class="answer" id="standalone-answer-text"></p>
        </div>
        <div class="output">
            <h2>Final Answer(RAG):</h2>
            <p>ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì§ˆë¬¸ê³¼ ë²¡í„° ìŠ¤í† ì–´ì—ì„œ ê²€ìƒ‰ëœ ê´€ë ¨ ì»¨í…ìŠ¤íŠ¸ ì •ë³´ë¥¼ ëª¨ë‘ í™œìš©í•˜ì—¬ ìƒì„±ëœ ë‹µë³€ì…ë‹ˆë‹¤. ì¶”ê°€ì ì¸ ë¬¸ë§¥ ì •ë³´ë¥¼ í¬í•¨í•˜ê³  ìˆì–´ ë³´ë‹¤ êµ¬ì²´ì ì´ê³  ì •í™•í•œ ë‹µë³€ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            <p class="answer" id="final-answer-text"></p>
        </div>
    </div>
    <script>
        function submitForm() {
            const question = document.getElementById('question').value;
            const data = {
                chat_history: [],  // ë¹ˆ ëŒ€í™” ê¸°ë¡ì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
                question: question
            };

            fetch('/local-chain', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(data => {
                if (data.standalone_answer) {
                    document.getElementById('standalone-answer-text').textContent = data.standalone_answer;
                } else {
                    document.getElementById('standalone-answer-text').textContent = 'No standalone answer received';
                }
                if (data.final_answer) {
                    document.getElementById('final-answer-text').textContent = data.final_answer;
                } else {
                    document.getElementById('final-answer-text').textContent = 'No final answer received';
                }
            })
            .catch((error) => {
                console.error('Error:', error);
                document.getElementById('standalone-answer-text').textContent = 'Error: ' + error.message;
                document.getElementById('final-answer-text').textContent = 'Error: ' + error.message;
            });
        }
    </script>
</body>
</html>
